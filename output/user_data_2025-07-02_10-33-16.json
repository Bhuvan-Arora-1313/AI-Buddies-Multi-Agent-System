{
  "timestamp": "2025-07-02_10-33-16",
  "active_window": "ChatGPT",
  "focused_text": "Could not extract AXValue from focused element",
  "clipboard": "curl -X POST http://127.0.0.1:8000/generate \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\"scenario\":\"missed class\", \"urgency\":\"panic\"}'",
  "vscode_text": "# excuse_api.py\nimport os, json, time, hashlib\nfrom pathlib import Path\nfrom dotenv import load_dotenv, find_dotenv\nload_dotenv(find_dotenv(), override=True)\n\n\n\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\n\nimport google.generativeai as genai\ngenai.configure(api_key=os.getenv(\"GEMINI_KEY\"))\nmodel = genai.GenerativeModel(\"gemini-pro\")\n# ---------- simple \u201cDB\u201d ----------\nDATA = Path(\"history.json\")\nif not DATA.exists():\n    DATA.write_text(\"[]\")          # seed empty list\n\n\n\n# ---------- FastAPI app ----------\napp = FastAPI()\n\nclass Req(BaseModel):\n    scenario: str  # e.g. \"missed class\"\n    urgency: str   # \"low\" | \"medium\" | \"panic\"\n\nSYSTEM_PROMPT = \"\"\"\nYou are an elite alibi-creator.\nReturn a JSON with:\n  excuse               (\u2264 50 words),\n  believability_score  (0-1),\n  chat_log             (short WhatsApp-style proof)\n\"\"\"\n\n# ---------- /generate ----------\n@app.post(\"/generate\")\ndef generate(r: Req):\n    prompt = f\"Scenario: {r.scenario}\\nUrgency: {r.urgency}\"\n    full_prompt = f\"{SYSTEM_PROMPT}\\n{prompt}\"\n    out = json.loads(model.generate_content(full_prompt).text)\n    entry = {\n        \"id\": hashlib.md5(out[\"excuse\"].encode()).hexdigest(),\n        \"ts\": time.time(),\n        **out,\n    }\n\n    history = json.loads(DATA.read_text())\n    if entry[\"id\"] not in {h[\"id\"] for h in history}:   # de-dupe\n        history.append(entry)\n        DATA.write_text(json.dumps(history, indent=2))\n\n    return entry\n\n# ---------- /top?n=5 ----------\n@app.get(\"/top\")\ndef top(n: int = 5):\n    history = json.loads(DATA.read_text())\n    history.sort(key=lambda x: x[\"believability_score\"], reverse=True)\n    return history[:n]",
  "ocr_text": "ChatGPT File Edit View Window\u2019 Help 3 2%8) Ff Q BS Wed Jul 2 10:33AM\n+\n\n\u00a9 List of research =) Artificial intellige CO NLP_1.ipynb - Co CO NLP_1.ipynb - Cc BB Launcue Glot \u2122 Launched - Artif Artificial_Intelligence. {J Al-05-BBLEN4 \u00a9 Openal @ apikeys - Open \u00a9 Gemini API refer 96 Get API key | GX\n4 B 4 5 io \u2014\nO-<e 7Coea O & & aistudio.google.com/apikey eee OG Intelligent Excuse Generator Plan > cel =\nBhuvan\n6 <> P excuse-generator By BOW \u2014 a\na o EXPLORER os PROBLEMS @ OUTPUT DEBUGCONSOLE TERMINAL PORTS tye vy x Ctrl-C e\n= 5 2\nV EXCUSE-GENERATOR grep: #: No such file or directory | >] python3.11 uvicorn excuse_api:app \u2014-reload\n> hi grep: should: No such file or directory 5 h\n\u00a9 P \u2014Pycacne__ grep: show: No such file or directory ' =) ZS\nVv wvenv grep: @.3.x: No such file or directory\n> bi grep: or: No such file or directory\ney im grep: newer: No such file or directory\n> include ERROR: Pipe to stdout was broken\n7 Exception ignored in: <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>\nS > lib BrokenPipeError: [Errno 32] Broken pipe F Test again\n& \u00ae pyvenv.cfg U @ (.venv) bhuvanarora@Bhuvans\u2014-MacBook-Pro excuse-generator % pip show google-generativeai | grep Version fe}\nVersion: 0.8.5\n@ env U (.venv) bhuvanarora@Bhuvans-MacBook-Pro excuse-generator % uvicorn excuse_api:app --reload\n=) \u00ae excuse_api.py 4,U INFO: Will watch for changes in these directories: ['/Users/bhuvanarora/excuse-generator '] bash oO Copy\n. ; INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n{} history.json U INFO: Started reloader process [97505] using StatReload\n= pasion: INFO: Started server process [97507] pel\nA & INFO: Waiting for application startup. ] curl -X POST http://127.0.0.1:8000/generate \\\nINFO: Application startup complete. \u2014| u _ . + + 7 u\nINFO: 127.@.0.1:65131 - \"POST /generate HTTP/1.1\" 520 Internal Server Error H \"Content Type: application/json \\ .\nERROR: Exception in ASGI application -d '{\"scenario\":\"missed class\", \"urgency\":\"panic\"}'\nTraceback (most recent call last):\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl. py\",\nline 403, in run_asgi\nresult = await app( # type: ignore[func-returns-value] i. What to expect\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\",\nline 60, in __call__ . .\nreturn await self.app(scope, receive, send) Outcome Meaning Next action\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/fastapi/applications.py\", line 1054, F\nin __call__ 9-7 aan, A q .\nawait super().__call__(scope, receive, send) JSON excuse Success \u2014 the free Gemini endpoint is working. Freeze deps (pip freeze\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/applications.py\", line 112, .\nin __call__ requirements.txt), comn\nawait self.middleware_stack(scope, receive, send)\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line\n187, i call, a 4 . .\neso } 429 quotaExceeded You hit the 60 req/min ~1000 req/day free cap. _ Wait a minute or make a new\nFile \"/Users/bhuvanarora/excuse-generator/.venv/1lib/python3.11/site-packages/starlette/middleware/errors.py\", line 4 .\n165, in call. uy IBEE, uy Al Studio project.\nawait self.app(scope, receive, _send) F\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\",\nline 62, in __call__ | 5 1 a o8\nawait wrap_app_handling_exceptions(self.app, conn)(scope, receive, send) Still 404 Key/project can't see Gemini Pro. Go back to Al\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", lin\ne 53, in wrapped_app\nraise exc QO qn rig} 9)\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", lin\ne 42, in wrapped_app i.\nawait app(scope, receive, sender)\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in _ @ The network connection was lost\n_call__ .\nawait self.middleware_stack(scope, receive, send) BE!\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in a |\npp\n(2) await route.handle(scope, receive, send)\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in h\n&3 > OUTLINE andle it self ; ; f\nawait self.app(scope, receive, sen F\n> TIMELINE File \"/Users/bhuvanarora/excuse-generator/. venw/tb/py'thon3.11/sees packages/starlette/routing.py\", line 76, in ap ( Work with Code Tab x\nwy % main* \u00ae@ @oA4 Ln7,Col1 Spaces:4 UTF-8 LF {} Python @ 3.13.264-bit\n\u2014\u2014 Message Bhuvan\na)\n+O 8 OT)\noy file.pdf ITRV (1).pdf ITRV.pdf AIEUTIR EAI EY Iko to mtj Iko to MTJ (1).pdf =\u2018 Iko to MTJ---\n\n9880\u00b0E68E20 e270 ae\n\n. ."
}