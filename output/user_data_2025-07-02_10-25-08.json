{
  "timestamp": "2025-07-02_10-25-08",
  "active_window": "Electron",
  "focused_text": "Could not extract AXValue from focused element",
  "clipboard": "pip show google-generativeai",
  "vscode_text": "# excuse_api.py\nimport os, json, time, hashlib\nfrom pathlib import Path\nfrom dotenv import load_dotenv\nload_dotenv()          # \u2190 NEW: pulls OPENAI_API_KEY from .env\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\n\nimport google.generativeai as genai\ngenai.configure(api_key=os.getenv(\"GEMINI_KEY\"))\nmodel = genai.GenerativeModel(\"gemini-pro\")\n# ---------- simple \u201cDB\u201d ----------\nDATA = Path(\"history.json\")\nif not DATA.exists():\n    DATA.write_text(\"[]\")          # seed empty list\n\n\n\n# ---------- FastAPI app ----------\napp = FastAPI()\n\nclass Req(BaseModel):\n    scenario: str  # e.g. \"missed class\"\n    urgency: str   # \"low\" | \"medium\" | \"panic\"\n\nSYSTEM_PROMPT = \"\"\"\nYou are an elite alibi-creator.\nReturn a JSON with:\n  excuse               (\u2264 50 words),\n  believability_score  (0-1),\n  chat_log             (short WhatsApp-style proof)\n\"\"\"\n\n# ---------- /generate ----------\n@app.post(\"/generate\")\ndef generate(r: Req):\n    prompt = f\"Scenario: {r.scenario}\\nUrgency: {r.urgency}\"\n    full_prompt = f\"{SYSTEM_PROMPT}\\n{prompt}\"\n    out = json.loads(model.generate_content(full_prompt).text)\n    entry = {\n        \"id\": hashlib.md5(out[\"excuse\"].encode()).hexdigest(),\n        \"ts\": time.time(),\n        **out,\n    }\n\n    history = json.loads(DATA.read_text())\n    if entry[\"id\"] not in {h[\"id\"] for h in history}:   # de-dupe\n        history.append(entry)\n        DATA.write_text(json.dumps(history, indent=2))\n\n    return entry\n\n# ---------- /top?n=5 ----------\n@app.get(\"/top\")\ndef top(n: int = 5):\n    history = json.loads(DATA.read_text())\n    history.sort(key=lambda x: x[\"believability_score\"], reverse=True)\n    return history[:n]",
  "ocr_text": "6\n\no\nS\n\n\u00a9\n\nCode File Edit Selection\n= List of research\n\u20ac > CG @\neee\n\n| o EXPLORER\nP > __pycache__\nv venv\n\n> bin\n\n> include\n\n> lib\n\n\u00a9 pyvenv.cfg\n\u00a9 .env\n\n@ excuse_api.py\n\n{} history.json\n\nr\n2\nFR\nA\n\n= requirements.txt\n\n@\n> OUTLINE\na > TIMELINE\n\nUE & mains @ @0A4\n\n\\Y EXCUSE-GENERATOR\n\n4\n\nU\nU\nU\nU\nU\n\nView\n\nGo Run_ Terminal Window\u2019 Help\n\n* Artificial Intellige CO NLP_1.ipynb - Co CO NLP_1.ipynb - Cc ca LAUNCHED Glok \u2122 Launched - Artif\n\nO 8 =\n\naistudio.google.com/apikey\n\n< PP excuse-generator By\nJ Welcome \u00ae excuse_api.py 4,U X %.env U\n\u00ae excuse_api.py > \u00a9 generate\n33\n34 # -\u2014--------\u2014- /generate \u2014-----\u2014--\u2014\u2014\n35 @app.post(\"/generate\")\n36 def generate(r: Req):\n37 prompt = f\"Scenario: {r.scenario}\\nUrgency: {r.urgency}\"\n38 full_prompt = f\"{SYSTEM_PROMPT}\\n{prompt}\"\n39 out = json. loads(model.generate_content(full_prompt) .text)\nprostems @ ourur DeBus consoue TERMINAL PORTS\n\nRequirement already satisfied: charset_normalizer<4,>=2 in ./.venv/lib/python3.11/site-packages (from requests<3.Q. |\n\n,>=2.18.0->google-api- core->google-generativeai) (3.4.2)\nRequirement already satisfied: idna<4,>=2.5 in ./.venv/lib/python3.11/site-packages (from requests<3.0.0,>=2.18. Oa]\n00g le-api-core->google-generativeai) (3.10)\nRequirement already satisfied: urllib3<3,>=1.21.1 in\n8.0->google-api-core->google-generativeai) (2.5.0)\nRequirement already satisfied: certifi>=2017.4.17 in\n8.0->google-api-core->google-generativeai) (2025.6.15)\nRequirement already satisfied: pyasn1>=0.1.3 in ./.venv/lib/python3.11/site-packages (from rsa<5,>=3.1.4->google-aut\nh>=2.15.0->google-generativeai) (0.6.1)\nRequirement already satisfied: httplib2<1.0.0,>=0.19.@ in\non-client->google-generativeai) (@.22.0)\nRequirement already satisfied: google-auth-httplib2<1.0.0,>=0.2.@ in\nle-api-python-client->google-generativeai) (0.2.0)\nRequirement already satisfied: uritemplate<5,>=3.@.1 in\n-client->google-generativeai) (4.2.0)\nRequirement already satisfied: pyparsing!=3.0.0, !=3.0.1, !=3.0.2, !=3.0.3,<4,>=2.4.2 in ./.venv/lib/python3.11/site-pa\nckages (from httplib2<1.0.0,>=0.19.0->google-api- python- \u00a2lient->google-generativeai) (3.2.3)\nRequirement already satisfied: annotated-types>=0.6.@ in ./.venv/lib/python3.11/site-packages (from pydantic->google>\n-generativeai) (0.7.0)\nRequirement already satisfied: pydantic-core==2.33.2 in\ngenerativeai) (2.33.2)\nRequirement already satisfied: typing-inspection>=0.4.@ in\nle-generativeai) (@.4.1)\nDownloading google_generativeai-@.8.5-py3-none-any.whl (155 kB)\nInstalling collected packages: google-generativeai\nSuccessfully installed google-generativeai-0.8.5\n\n@ (.venv) bhuvanarora@Bhuvans\u2014MacBook-Pro excuse-generator % pip show google-generativeai\nName: google-generativeai\nVersion: 0.8.5\nSummary: Google Generative AI High level API client library and tools.\nHome-page: https://github.com/google/generative-ai-python\nAuthor: Google LLC\nAuthor-email: googleapis\u2014packages@google. com\nLicense: Apache 2.0\nLocation: /Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages\nRequires: google-ai-generativelanguage, google-api-core, google-api-python-client, google-auth, protobuf, pydantic,\ntqdm, typing-extensions\nRequired-by:\n(.venv) bhuvanarora@Bhuvans\u2014-MacBook-Pro excuse-generator % | |\n\nITRV (1).pdf\n\n./.venv/lib/python3.11/site-packages (from requests<3.0.0,>=2.1\n\n./.venv/1lib/python3.11/site-packages (from requests<3.0.0,>=2. 1,\n\n./.venv/lib/python3.11/site-packages (from google-api-pyth\n\n./.venv/lib/python3.11/site-packages (from goog\n\n./.venv/1lib/python3.11/site-packages (from google-api-python\n\n./.venv/lib/python3.11/site-packages (from pydantic->google-\n\n./.venv/lib/python3.11/site-packages (from pydantic->goog\n\nLn 39, Col63 Spaces:\n\nUTF-8 LF {} Python\n\nfile.pdf\n\nITRV.pdf AIEUTIR EAI EY\n\nIko to mtj\n\n280%\u00b0GS8e2oS \u00a99870\n\nee i\n\nby\n\nJoy cov\n\nArtificial_Intelligence\n\n0\n\n& 3.13.264-bit\nIko to MTJ (1).pdf Iko to MTJ-\\-=\n\n1B al-05-BBLEN4\n\nOo\nLe}\n\n6 \u00a30 O S wx F Q\n\ncoy API keys - Open/\n\n\u00a9 Openal \u00a9 Gemini API refer 96 Get API key | G X\n\nIntelligent Excuse Generator Plan >\nBhuvan\n\ngoogie.apl_COre.e\u20acxCeptions.NOTFOUNG: 404 ..\ngemini-pro is not found for API version vibeta, or is not supported in ge\n\nThe Google Generative Al SDK you're calling is still hitting the old \u201cv1beta\" endpoint, where the\nmodel list looked like\nmodels/gemini-pro (note the full path).\n\nThat happens when:\n1. An older SDK (< 0.3) is installed, or\n\n2. You pass just \"gemini-pro\" while the old client expects \"models/gemini-pro\".\n\n\\ Fix in two quick steps\n\n1 Upgrade the SDK so it speaks the new v1 API\n\nbash O) Copy\nsource .venv/bin/activate\npip uninstall -y google-generativeai\npip install --no-cache-dir --upgrade google-generativeai\npip show google-generativeai should now say 0.3.x (or newer).\n2 Use the canonical model name\nWith the new SDK (>= 0.3) simply use:\npython V \u00a9) Copy\n\nMessage Bhuvan\n\n+ \u00ae\n\nen\n\nWw\n\n\u00a9\n\nae\n\n@ Wed Jul 2 10:25AM"
}