{
  "timestamp": "2025-07-02_10-10-21",
  "active_window": "ChatGPT",
  "focused_text": "Could not extract AXValue from focused element",
  "clipboard": "curl -X POST http://127.0.0.1:8000/generate \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\"scenario\":\"missed class\", \"urgency\":\"panic\"}'",
  "vscode_text": "# excuse_api.py\nimport os, json, time, hashlib\nfrom pathlib import Path\nfrom dotenv import load_dotenv\nload_dotenv()          # \u2190 NEW: pulls OPENAI_API_KEY from .env\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\nfrom openai import OpenAI\n# ---------- OpenAI client ----------\nclient = OpenAI(api_key=os.getenv(\"OPENAI_API_KEY\"))\n\n# ---------- simple \u201cDB\u201d ----------\nDATA = Path(\"history.json\")\nif not DATA.exists():\n    DATA.write_text(\"[]\")          # seed empty list\n\n\n\n# ---------- FastAPI app ----------\napp = FastAPI()\n\nclass Req(BaseModel):\n    scenario: str  # e.g. \"missed class\"\n    urgency: str   # \"low\" | \"medium\" | \"panic\"\n\nSYSTEM_PROMPT = \"\"\"\nYou are an elite alibi-creator.\nReturn a JSON with:\n  excuse               (\u2264 50 words),\n  believability_score  (0-1),\n  chat_log             (short WhatsApp-style proof)\n\"\"\"\n\n# ---------- /generate ----------\n@app.post(\"/generate\")\ndef generate(r: Req):\n    prompt = f\"Scenario: {r.scenario}\\nUrgency: {r.urgency}\"\n    res = client.chat.completions.create(\n        model=\"gpt-4o-mini\",\n        messages=[\n            {\"role\": \"system\", \"content\": SYSTEM_PROMPT},\n            {\"role\": \"user\",   \"content\": prompt},\n        ],\n        temperature=0.8,\n    )\n    out = json.loads(res.choices[0].message.content)\n\n    entry = {\n        \"id\": hashlib.md5(out[\"excuse\"].encode()).hexdigest(),\n        \"ts\": time.time(),\n        **out,\n    }\n\n    history = json.loads(DATA.read_text())\n    if entry[\"id\"] not in {h[\"id\"] for h in history}:   # de-dupe\n        history.append(entry)\n        DATA.write_text(json.dumps(history, indent=2))\n\n    return entry\n\n# ---------- /top?n=5 ----------\n@app.get(\"/top\")\ndef top(n: int = 5):\n    history = json.loads(DATA.read_text())\n    history.sort(key=lambda x: x[\"believability_score\"], reverse=True)\n    return history[:n]",
  "ocr_text": "Ow \u00ae 0\n\nChatGPT File Edit View\n\n\u00a9 List of research pape X\n\u00ab> Co\n\nEXPLORER\n\n| to V EXCUSE-GENERATOR\n\n> __pycache__\n\nv venv\n\n> bin\n\n> include\n\n> lib\n\n\u00a9 pyvenv.cfg\n\u00a9 .env\n\n{} history.json\n\n=> BY & oO\n\nU\nU\n@ excuse_api.py 4,U\nU\nU\n\n= requirements.txt\n\n@\n$03 > OUTLINE\n\n> TIMELINE\n\nWE & maine @0A4\n\nWindow\n\nJ Welcome\n\nHelp\n\n=) Artificial intelligence X CO NLP1.ipynb-Colab X CO NLPt.ipynb-Colab X [MB] LAUNCHED Global X\n\nO 8 =\n\n\u20ac >\n\nplatform.openai.com/settings/organization/api-keys\n\nBOAT\nDy %\n\nP\u00a3 excuse-generator By\n\n@ excuse_api.py 4,U X % .env U\n\n@ excuse_api.py > ...\n1 # excuse_api.py\nimport os, json, time, hashlib\nfrom pathlib import Path\nfrom dotenv import load_dotenv\nload_dotenv() # - NEW: pulls OPENAI_API_KEY from .env\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\nfrom openai import OpenAI\nOpenAI client\nOpenAI (api_key=os.getenv(\"OPENAI_API_KEY\") )\n\nOoOOANnN au BR WN\n\nray\nSs\n\nclient =\n11\n\nPROBLEMS @ OUTPUT DEBUG CONSOLE PORTS.\n\n+yv es n xX\n\n-) python3.11\n>-| zsh\n\nTERMINAL\n\nsync\nreturn await get_async_backend().run_sync_in_worker_thread(\n\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 24\n70, in run_sync_in_worker_thread\nreturn await future\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 96\n7, in run\nresult = context.run(func, xargs) 1.\nFile \"/Users/bhuvanarora/excuse-generator/excuse_api.py\", line 38, in generate\nres = client.chat.completions.create(\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/openai/_utils/_utils.py\", line 287, i\nn wrapper\nreturn func(*args, +kkwargs)\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/openai/resources/chat/completions/com\npletions.py\", line 1087, in create\nreturn self._post(\n\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1249, i\nn post\nreturn cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls) ) po\nAAA AAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAA AAAAAAAAAARAA 1\nt\nFile \"/Users/bhuvanarora/excuse-generator/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1037, i\nn request\nraise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': \u2018You exceeded your current quota, please check your p\nlan and billing details. For more information on this error, read the docs: https://platform. openai.com/docs/guides/\nerror-codes/api-errors.', \u2018type': \u2018insufficient_quota', \u2018param': None, \u2018code': \u2018insufficient_quota'}}\nQ  Ln10,Col53 Spaces:4 UTF-8 LF\n\n{} Python @& 3.13.264-bit\n\n8800686820 \u00a99218\n\nM Launched - Artificie\n\n6 # \u00a9 DO S 2 F Q S @ WedJul2 10:10AM\nx Artificial_intelligence_CoX [iJ Al-O5-BBLEN4a = X ~\u2014 \u00a9 OpenAl x \u00a9 APikeys - OpenAl Ai X\neee MG Intelligent Excuse Generator Plan > CG\n\nBhuvan\n\nlet mem tell u that the order u told me was already there\nbefore so i am again agetting the same erro internal\nseSrver error\n\nThought for 16 seconds >\nGood news > the key is now being read correctly\n\nThe traceback has changed from \u201cincorrect API key\u201d to:\n\n\u00a9) Copy\n\nOpenai.RateLimitError: Error code: 429 \u2014 'You exceeded your current quota\nplease check your plan and billing details' 'type': 'insufficient_quota\n\nThat means the request reached OpenAl but your key has no remaining credit (or no billing\nset up). The fix is not in the code anymore\u2014it's on the OpenAl dashboard.\n\nHow to unblock yourself in < 5 min\n\nOption What to do Cost/N\n1. Add a payment method (most reliable) 1. Go to https://platform.openai.com/ Pay-as-'\naccount/usage ~> you'll see $0.00 GPT-3.5\n\nrer y 1g.2. Click Billing > Payment methods\n\n=> \"Add naymant mathnd\u201d and add a rard 2\n\u20ac Work with Code Tab x\n\nMessage Bhuvan\n\n+ @\u00ae ov\n\n=]\n\n|"
}